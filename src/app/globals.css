/**
 * Global Styles with Centralized CSS Variables
 * 
 * IMPORTANT: All design tokens are defined here using CSS custom properties.
 * These variables are used throughout the application for consistent theming.
 * 
 * To change the app's appearance, modify these CSS variables.
 * Changes here will automatically update the entire application.
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * CSS CUSTOM PROPERTIES (CSS Variables)
 * 
 * These variables provide a centralized way to manage colors, spacing, and other design tokens.
 * They work alongside Tailwind's utility classes for maximum flexibility.
 */

@layer base {
  :root {
    /* ===== COLOR SYSTEM ===== */
    
    /* Primary Brand Color - Soft Blue (Professional + Friendly) */
    --color-primary: 59 130 246;        /* rgb(59, 130, 246) - blue-500 */
    --color-primary-hover: 37 99 235;   /* rgb(37, 99, 235) - blue-600 */
    --color-primary-light: 147 197 253; /* rgb(147, 197, 253) - blue-300 */
    
    /* Secondary Color - Purple */
    --color-secondary: 168 85 247;      /* rgb(168, 85, 247) - purple-500 */
    --color-secondary-hover: 147 51 234; /* rgb(147, 51, 234) - purple-600 */
    
    /* Accent Color - Green */
    --color-accent: 16 185 129;         /* rgb(16, 185, 129) - green-500 */
    --color-accent-hover: 5 150 105;    /* rgb(5, 150, 105) - green-600 */
    
    /* Status Colors (Aligned with Soft Blue palette) */
    --color-success: 16 185 129;        /* rgb(16, 185, 129) - green-500 (same as accent) */
    --color-warning: 245 158 11;        /* rgb(245, 158, 11) - amber-500 */
    --color-error: 239 68 68;           /* rgb(239, 68, 68) - red-500 */
    --color-info: 59 130 246;           /* rgb(59, 130, 246) - blue-500 (same as primary) */
    
    /* Background Colors - Light & Airy */
    --color-background: 255 255 255;    /* rgb(255, 255, 255) - white */
    --color-background-secondary: 249 250 251; /* rgb(249, 250, 251) - gray-50 */
    --color-background-tertiary: 243 244 246;  /* rgb(243, 244, 246) - gray-100 */
    
    /* Text Colors */
    --color-text-primary: 15 23 42;     /* rgb(15, 23, 42) - slate-900 */
    --color-text-secondary: 71 85 105;  /* rgb(71, 85, 105) - slate-600 */
    --color-text-tertiary: 148 163 184; /* rgb(148, 163, 184) - slate-400 */
    
    /* Border Colors */
    --color-border: 226 232 240;        /* rgb(226, 232, 240) - slate-200 */
    --color-border-hover: 203 213 225;  /* rgb(203, 213, 225) - slate-300 */
    
    /* ===== SPACING SYSTEM ===== */
    --spacing-section: 4rem;            /* 64px - Section padding */
    --spacing-card: 1.5rem;             /* 24px - Card padding */
    --spacing-form: 1rem;               /* 16px - Form spacing */
    --spacing-button: 0.75rem;          /* 12px - Button padding */
    
    /* ===== BORDER RADIUS ===== */
    --radius-card: 0.75rem;             /* 12px - Card corners */
    --radius-button: 0.5rem;            /* 8px - Button corners */
    --radius-input: 0.5rem;             /* 8px - Input corners */
    --radius-badge: 9999px;             /* Fully rounded */
    
    /* ===== SHADOWS ===== */
    --shadow-card: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-card-hover: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-modal: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    
    /* ===== TRANSITIONS ===== */
    --transition-fast: 150ms;
    --transition-default: 200ms;
    --transition-slow: 300ms;
  }
  
  /**
   * DARK MODE SUPPORT (Optional)
   * 
   * Uncomment and customize these variables for dark mode support.
   * Use `dark:` prefix in Tailwind classes to apply dark mode styles.
   */
  
  /* @media (prefers-color-scheme: dark) {
    :root {
      --color-background: 15 23 42;
      --color-background-secondary: 30 41 59;
      --color-background-tertiary: 51 65 85;
      --color-text-primary: 248 250 252;
      --color-text-secondary: 203 213 225;
      --color-text-tertiary: 148 163 184;
      --color-border: 51 65 85;
      --color-border-hover: 71 85 105;
    }
  } */
  
  /**
   * BASE STYLES
   * 
   * Apply base styles to HTML elements using CSS variables.
   */
  
  body {
    @apply bg-white text-gray-900;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }
  
  html {
    overflow-x: hidden;
  }
  
  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

/**
 * CUSTOM COMPONENT CLASSES
 * 
 * Define reusable component classes using Tailwind's @apply directive.
 * These classes use the centralized design tokens defined above.
 */

@layer components {
  /* Button Variants */
  .btn-primary {
    @apply bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg 
           hover:from-blue-600 hover:to-purple-600 active:from-blue-700 active:to-purple-700
           transition-all duration-200 shadow-md hover:shadow-lg
           font-semibold text-sm
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
           min-h-[2.5rem] flex items-center justify-center;
  }
  
  .btn-secondary {
    @apply bg-gradient-to-r from-gray-600 to-gray-700 text-white px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg 
           hover:from-gray-700 hover:to-gray-800 active:from-gray-800 active:to-gray-900
           transition-all duration-200 shadow-md hover:shadow-lg
           font-semibold text-sm
           focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2
           min-h-[2.5rem] flex items-center justify-center;
  }
  
  .btn-outline {
    @apply border-2 border-blue-500 text-blue-600 px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg 
           hover:bg-blue-50 active:bg-blue-100
           transition-all duration-200 shadow-sm hover:shadow-md
           font-semibold text-sm
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
           min-h-[2.5rem] flex items-center justify-center;
  }
  
  .btn-ghost {
    @apply text-gray-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg 
           hover:bg-gray-100 active:bg-gray-200
           transition-all duration-200
           font-semibold text-sm
           focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2
           min-h-[2.5rem] flex items-center justify-center;
  }
  
  /* Card Styles */
  .card {
    @apply bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-sm 
           border border-gray-200
           transition-all duration-200
           max-w-full overflow-hidden;
  }
  
  .card-hover {
    @apply card hover:shadow-md hover:border-gray-300;
  }
  
  /* Input Styles */
  .input {
    @apply w-full px-4 py-2 rounded-lg border border-gray-300
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
           transition-all duration-200
           placeholder:text-gray-400;
  }
  
  .input-error {
    @apply input border-error-500 focus:ring-error-500;
  }
  
  /* Badge Styles */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .badge-primary {
    @apply badge bg-primary-100 text-primary-700;
  }
  
  .badge-success {
    @apply badge bg-success-100 text-success-700;
  }
  
  .badge-warning {
    @apply badge bg-warning-100 text-warning-700;
  }
  
  .badge-error {
    @apply badge bg-error-100 text-error-700;
  }
  
  /* Container Styles */
  .container-section {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16;
  }
  
  /* Form Styles */
  .form-group {
    @apply space-y-2;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700;
  }
  
  .form-error {
    @apply text-sm text-error-500 mt-1;
  }
  
  /* Link Styles */
  .link {
    @apply text-primary-500 hover:text-primary-600 underline transition-colors duration-150;
  }
}

/**
 * UTILITY CLASSES
 * 
 * Additional utility classes for common patterns.
 */

@layer utilities {
  /* Text Utilities */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Overflow Prevention */
  .prevent-overflow {
    max-width: 100%;
    overflow-x: hidden;
    word-wrap: break-word;
    word-break: break-word;
  }
  
  /* Animation Utilities */
  .animate-fade-in {
    animation: fadeIn 200ms ease-in;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  .animate-slide-up {
    animation: slideUp 200ms ease-out;
  }
  
  @keyframes slideUp {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Hero Section Animations */
  .animate-blob {
    animation: blob 7s infinite ease-in-out;
  }

  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(50px, -80px) scale(1.15);
    }
    66% {
      transform: translate(-40px, 40px) scale(0.85);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  /* Subtle blob animation without aggressive scaling */
  .animate-blob-subtle {
    animation: blobSubtle 8s infinite ease-in-out;
  }

  @keyframes blobSubtle {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.05);
    }
    66% {
      transform: translate(-25px, 25px) scale(0.95);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .animate-blob,
    .animate-blob-subtle,
    .animate-fade-in,
    .animate-fade-in-up,
    .animate-gradient,
    .animate-pulse-subtle,
    .animate-bounce-subtle,
    .animate-check-in {
      animation: none !important;
    }
    
    .transition-all {
      transition: none !important;
    }
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 3s ease infinite;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-bounce-subtle {
    animation: bounceSubtle 2s ease-in-out infinite;
  }

  @keyframes bounceSubtle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  .animate-pulse-subtle {
    animation: pulseSubtle 2s ease-in-out infinite;
  }

  @keyframes pulseSubtle {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Prevent animation flash on initial load - keep content visible until animation is ready */
  .animate-fade-in-up:not([data-animated="true"]) {
    opacity: 1 !important;
    transform: translateY(0) !important;
    animation: none !important;
  }

  .delay-1000 {
    animation-delay: 1s;
  }

  .delay-1100 {
    animation-delay: 1.1s;
  }

  .delay-1200 {
    animation-delay: 1.2s;
  }

  .delay-1300 {
    animation-delay: 1.3s;
  }

  .delay-1400 {
    animation-delay: 1.4s;
  }

  .animate-check-in {
    animation: checkIn 0.5s ease-out forwards;
  }

  @keyframes checkIn {
    from {
      opacity: 0;
      transform: scale(0) rotate(-180deg);
    }
    to {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
  }

  .delay-100 {
    animation-delay: 0.1s;
  }

  .delay-200 {
    animation-delay: 0.2s;
  }
}

/**
 * TOUR STYLES (Intro.js Customization)
 * 
 * Custom styles for the onboarding tour to match the app's design system.
 */

/* Custom tooltip styling */
.introjs-tooltip {
  background: white !important;
  border: 2px solid rgb(59, 130, 246) !important;
  border-radius: 0.75rem !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1) !important;
  max-width: 400px !important;
  font-family: inherit !important;
  padding: 1.5rem !important;
}

.introjs-tooltip h3 {
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  color: rgb(15, 23, 42) !important;
  margin-bottom: 0.5rem !important;
  margin-top: 0 !important;
}

.introjs-tooltip p {
  font-size: 0.875rem !important;
  color: rgb(71, 85, 105) !important;
  line-height: 1.625 !important;
  margin: 0 !important;
}

.introjs-tooltipbuttons {
  border-top: 1px solid rgb(226, 232, 240) !important;
  padding-top: 0.75rem !important;
  margin-top: 0.75rem !important;
  text-align: right !important;
  display: flex !important;
  justify-content: flex-end !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.introjs-button {
  padding: 0.5rem 1rem !important;
  border-radius: 0.5rem !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
  transition: all 0.2s !important;
  border: none !important;
  cursor: pointer !important;
}

.introjs-button.introjs-prevbutton {
  background: rgb(243, 244, 246) !important;
  color: rgb(55, 65, 81) !important;
}

.introjs-button.introjs-prevbutton:hover {
  background: rgb(229, 231, 235) !important;
}

.introjs-button.introjs-nextbutton {
  background: linear-gradient(to right, rgb(59, 130, 246), rgb(168, 85, 247)) !important;
  color: white !important;
}

.introjs-button.introjs-nextbutton:hover {
  background: linear-gradient(to right, rgb(37, 99, 235), rgb(147, 51, 234)) !important;
}

.introjs-button.introjs-skipbutton {
  color: rgb(107, 114, 128) !important;
  margin-right: auto !important;
  background: transparent !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 0.375rem !important;
  font-weight: 400 !important;
  font-size: 1.5rem !important;
  line-height: 1 !important;
  transition: all 0.2s !important;
  border: none !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 1.75rem !important;
  height: 1.75rem !important;
  width: 1.75rem !important;
}

.introjs-button.introjs-skipbutton:hover {
  color: rgb(55, 65, 81) !important;
  background: rgb(243, 244, 246) !important;
  transform: scale(1.1) !important;
}

/* Fix skip button text visibility */
.introjs-skipbutton {
  opacity: 1 !important;
  visibility: visible !important;
}

.introjs-skipbutton * {
  opacity: 1 !important;
  visibility: visible !important;
}

.introjs-button.introjs-donebutton {
  background: linear-gradient(to right, rgb(59, 130, 246), rgb(168, 85, 247)) !important;
  color: white !important;
}

.introjs-button.introjs-donebutton:hover {
  background: linear-gradient(to right, rgb(37, 99, 235), rgb(147, 51, 234)) !important;
}

/* Custom highlight overlay */
.introjs-overlay {
  background: rgba(0, 0, 0, 0.5) !important;
}

.introjs-helperLayer {
  border: 2px solid rgb(59, 130, 246) !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5), 0 0 20px rgba(59, 130, 246, 0.5) !important;
  pointer-events: none !important;
}

/* Allow clicking on highlighted elements */
.introjs-helperLayer * {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Progress bar */
.introjs-progress {
  background: rgb(229, 231, 235) !important;
  border-radius: 9999px !important;
  height: 0.25rem !important;
  margin-bottom: 0.75rem !important;
}

.introjs-progressbar {
  background: linear-gradient(to right, rgb(59, 130, 246), rgb(168, 85, 247)) !important;
  border-radius: 9999px !important;
  height: 100% !important;
}

/* Bullets */
.introjs-bullets {
  margin-top: 0.75rem !important;
  margin-bottom: 0 !important;
}

.introjs-bullets ul {
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
  display: flex !important;
  justify-content: center !important;
  gap: 0.5rem !important;
}

.introjs-bullets ul li {
  margin: 0 !important;
}

.introjs-bullets ul li a {
  display: block !important;
  width: 8px !important;
  height: 8px !important;
  border-radius: 50% !important;
  background: rgb(209, 213, 219) !important;
  text-indent: -9999px !important;
  overflow: hidden !important;
}

.introjs-bullets ul li a.active {
  background: rgb(59, 130, 246) !important;
}
